<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¹´ë“œ ë„ê°</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .pokedex-header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .pokedex-header-title {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
	
        }
        .pokedex-header-buttons {
            display: flex;
            gap: 10px;
        }
        .pokedex-header-button {
            padding: 10px 20px;
            font-size: 14px;
            text-decoration: none;
            border: 2px solid #000;
            border-radius: 8px;
            background-color: transparent;
            cursor: pointer;
        }
        .pokedex-header-button:hover {
            background-color: rgba(0, 0, 0, 0.1);
        }
        .pokedex-search-container {
            margin: 20px 0;
            text-align: center;
        }
        .pokedex-search-input {
            width: 300px;
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ccc;
            border-radius: 8px;
        }
        .pokedex-card-container {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            width: 80%;
            margin: 20px 0;
        }
    
    .pokedex-card {
    width: 220px;
    height: 310px;
    border: 2px solid #ccc;
    border-radius: 8px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    position: relative;
    background-color: #f5f5f5;
    transition: transform 0.3s ease;
}
.pokedex-card:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}
.pokedex-overlay {
    position: absolute;
    width: 100%;
    height: 100%;
    background: linear-gradient(105deg,
        transparent 40%,
        rgba(255, 219, 112, 0.8) 45%,
        rgba(132, 50, 255, 0.6) 50%,
        transparent 54%);
    filter: brightness(1.1) opacity(0.8);
    mix-blend-mode: color-dodge;
    background-size: 150% 150%;
    background-position: 100%;
    transition: all 0.1s;
}
.pokedex-card button {
        position: absolute;
        bottom: 10px;
        right: 10px;
        background-color: #f5f5f5;
        border: 2px solid #ccc;
        border-radius: 5px;
        font-size: 12px;
        cursor: pointer;
        padding: 5px 10px;
        transition: background-color 0.3s, color 0.3s;
        z-index: 10;
    }
    .pokedex-card button.owned {
        background-color: #4caf50; /* ë…¹ìƒ‰: ë³´ìœ ì¤‘ */
        color: white;
        border-color: #4caf50;
    }
    .pokedex-card button:hover {
        background-color: rgba(0, 0, 0, 0.1);
    }
    .pokedex-card-image {
    width: 100%;
    height: 80%;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #fff;
    z-index: 30;
}
.pokedex-card-image img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.pokedex-card-image img:hover {

    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}
.pokedex-card-info {
    height: 20%;
    background-color: #f8f8f8;
    padding: 5px 10px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    border-top: 1px solid #ccc;
}
.pokedex-card-name {
    font-size: 14px;
    font-weight: bold;
    margin: 5px 0;
}
.pokedex-card-info button {
    padding: 5px 10px;
    font-size: 12px;
    font-weight: bold;
    border: 2px solid #ccc;
    border-radius: 8px;
    cursor: pointer;
    background-color: #fff;
    transition: all 0.3s ease;
}
.pokedex-card-info button.owned {
    background-color: #4caf50;
    color: #fff;
    border-color: #4caf50;
}

.pokedex-card-info button:hover {
    background-color: rgba(0, 0, 0, 0.1);
}
        .pokedex-card img {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 80%;
            max-height: 80%;
	cursor: pointer;
        transition: transform 0.3s, box-shadow 0.3s;
        }

    /* í™•ëŒ€ëœ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
    .zoomed-image-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.8); /* ë°°ê²½ ì–´ë‘ì›€ */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }
    .zoomed-image {
        max-width: 50%;
        max-height: 50%;
        animation: zoomInRotate 0.5s ease-in-out forwards;
    }
    @keyframes zoomInRotate {
        from {
            transform: scale(0.5) rotate(0deg);
            opacity: 0;
        }
        to {
            transform: scale(1.5) rotate(360deg);
            opacity: 1;
        }
    }
    .zoomed-image-container-close {
        position: absolute;
        top: 10px;
        right: 20px;
        font-size: 24px;
        color: white;
        cursor: pointer;
    }
        .pokedex-card-status {
            font-size: 18px;
            font-weight: bold;
            margin: 20px 0;
        }
    .pokedex-filter-buttons {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 20px 0;
    }
    .pokedex-filter-button {
        width: 40px;
        height: 40px;
        border: 2px solid transparent;
        border-radius: 50%;
        cursor: pointer;
        transition: transform 0.3s, border-color 0.3s;
    }
    .pokedex-filter-button:hover {
        transform: scale(1.2);
    }
    .pokedex-filter-button.active {
        transform: scale(1.5); /* í´ë¦­ëœ ë²„íŠ¼ í™•ëŒ€ */
        border-color: rgba(0, 0, 0, 0.5); /* í´ë¦­ëœ ë²„íŠ¼ ê°•ì¡° */
    }
    .pokedex-acquire-container {
    display: flex;
    justify-content: center;
    align-items: center;
}
    .all-acquire-button {
    font-weight: bold;
    border-radius: 8px;
    color: white;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.card-status-board {
        position: fixed;
        top: 10px;
        right: 10px;
        background: white;
        border: 2px solid #ccc;
        border-radius: 8px;
        padding: 10px 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        font-size: 16px;
    }

    .status-board-text {
        margin: 0;
        font-weight: bold;
    }
    .pack-image {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .pack-image:hover {
        transform: scale(1.1); /* ì´ë¯¸ì§€ë¥¼ í™•ëŒ€ */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* ê·¸ë¦¼ì íš¨ê³¼ ì¶”ê°€ */
    }
    .pokedex-music-control {
            position: fixed;
            bottom: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
            z-index: 1000;
        }
        .pokedex-music-control:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }
    </style>
</head>
<body>
    <!-- ìƒë‹¨ í—¤ë” -->
    <div class="pokedex-header">
        <div class="pokedex-header-title">ì¹´ë“œ ë„ê°</div>
        <p id="pokedex-user-info" style="border: grey solid 2px; border-radius: 10px; padding: 3px;" ></p>
        <div class="pokedex-header-buttons">
            <a href="main.html" class="pokedex-header-button">ë©”ì¸</a>
            <a href="gamble.html" class="pokedex-header-button">ì¹´ë“œ ë½‘ê¸°</a>
        </div>
    </div>

    <!-- ê²€ìƒ‰ì°½ -->
    <div class="pokedex-search-container">
        <input type="text" id="pokedex-search-input" class="pokedex-search-input" placeholder="ì´ë¦„ì´ë‚˜ ë²ˆí˜¸ë¡œ ê²€ìƒ‰">
    </div>
<!-- í•„í„° ë²„íŠ¼ -->
<div class="pokedex-filter-buttons">
    <img src="img/symbol/GREEN.png" alt="í’€" class="pokedex-filter-button" data-type="green">
    <img src="img/symbol/RED.png" alt="ë¶ˆ" class="pokedex-filter-button" data-type="red">
    <img src="img/symbol/BLUE.png" alt="ë¬¼" class="pokedex-filter-button" data-type="blue">
    <img src="img/symbol/YELLOW.png" alt="ë‡Œ" class="pokedex-filter-button" data-type="yellow">
    <img src="img/symbol/BROWN.png" alt="ê²©" class="pokedex-filter-button" data-type="brown">
    <img src="img/symbol/PINK.png" alt="ì´ˆ" class="pokedex-filter-button" data-type="pink">
    <img src="img/symbol/BLACK.png" alt="ì•…" class="pokedex-filter-button" data-type="black">
    <img src="img/symbol/GOLD.png" alt="ìš©" class="pokedex-filter-button" data-type="gold">
    <img src="img/symbol/WHITE.png" alt="ë¬´" class="pokedex-filter-button" data-type="white">
<div class="pokedex-acquire-container">
    <img src="img/symbol/all.png" alt="ALL" id="all-acquire-button" class="all-acquire-button" style="width: 40px; height: 40px;"></div>
</div>
    </div>
    <!-- ì¹´ë“œ ì»¨í…Œì´ë„ˆ -->
    <div class="pokedex-card-container" id="pokedex-card-container">
        <!-- ë™ì ìœ¼ë¡œ ì¹´ë“œê°€ ì¶”ê°€ë©ë‹ˆë‹¤ -->
    </div>

        <!-- í´ë¦­í•œ ì¹´ë“œ ë‚´ìš©ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
    </div>
<div id="card-status-board" style="position: fixed; top: 300px; right: 10px; background: white; border: 2px solid #ccc;
    border-radius: 8px; padding: 10px 20px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); z-index: 1000; font-size: 16px;">
    <p id="status-board-text">ë³´ìœ : 0 / 150</p>
</div>
</div>
<div id="pack-container" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
    z-index: 1000; text-align: center;">
    <img id="pack-image" src="img/etc/151pack.png" alt="151 Pack" style="cursor: pointer; max-width: 300px;">
</div>
<!-- ìŒì•… ì œì–´ ë²„íŠ¼ -->
<div class="pokedex-music-control" onclick="toggleMusic()">
    ğŸµ ì¬ìƒ
</div>

<!-- ìŒì•… íŒŒì¼ ì¶”ê°€ -->
<audio id="pokedex-background-music" loop>
    <source src="music/pokedex.mp3" type="audio/mpeg">
</audio>
    <!-- JavaScript íŒŒì¼ -->
    <script src="151data.js"></script>
    <script>
    
window.onload = function () {
    const user = JSON.parse(localStorage.getItem('loggedInUser')); // ë¡œê·¸ì¸ëœ ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    const userInfo = document.getElementById('pokedex-user-info');
    const allAcquireButton = document.getElementById('all-acquire-button');  // "ëª¨ë‘íšë“" ë²„íŠ¼ ê°€ì ¸ì˜¤ê¸°

    if (user && user.username) {
        // ë¡œê·¸ì¸ëœ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ í‘œì‹œ
        userInfo.textContent = user.role === 'developer'
            ? `ê°œë°œìë‹˜ ì–´ì„œì˜¤ì„¸ìš”, ${user.username}!`
            : `ì–´ì„œì˜¤ì„¸ìš”, ${user.username}!`;

        // ê´€ë¦¬ìì¸ ê²½ìš° "ëª¨ë‘íšë“" ë²„íŠ¼ í‘œì‹œ
        if (user.role === 'developer') {
            allAcquireButton.style.display = 'inline-block';  // ë²„íŠ¼ í‘œì‹œ
        } else {
            allAcquireButton.style.display = 'none';  // ê´€ë¦¬ìê°€ ì•„ë‹ˆë©´ ë²„íŠ¼ ìˆ¨ê¸°ê¸°
        }
    } else {
        alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
        window.location.href = 'login.html';
    }

    initializePokedex();
};
        const cardData = POKEDEX;

        // ê²€ìƒ‰ì°½ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.getElementById('pokedex-search-input').addEventListener('input', function () {
            const searchTerm = this.value.toLowerCase();
            const filteredData = cardData.filter(card =>
                card.NAME.toLowerCase().includes(searchTerm) || 
                card.NUMBER.toString().includes(searchTerm)
            );
            displayCards(filteredData);
        });

// ë³´ìœ  ìƒíƒœë¥¼ ì €ì¥í•  ê°ì²´
const ownedCards = {};  
// "ëª¨ë‘íšë“" ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
let allAcquired = false; // ëª¨ë‘íšë“ ìƒíƒœ ì¶”ì 

// "ëª¨ë‘íšë“" ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
document.getElementById('all-acquire-button').addEventListener('click', function () {
    if (!allAcquired) {
        // 151ë²ˆ ì¹´ë“œë¥¼ ì œì™¸í•œ ëª¨ë“  ì¹´ë“œë¥¼ ë³´ìœ  ìƒíƒœë¡œ ì„¤ì •
        cardData.forEach(card => {
            if (card.NUMBER !== 151) {
                ownedCards[card.NUMBER] = true;
            }
        });
        alert('ëª¨ë“  ì¹´ë“œë¥¼ ë³´ìœ  ìƒíƒœë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤!');
    } else {
        // ëª¨ë“  ì¹´ë“œë¥¼ ë¯¸ë³´ìœ  ìƒíƒœë¡œ ì„¤ì • (151ë²ˆ ì œì™¸)
        cardData.forEach(card => {
            if (card.NUMBER !== 151) {
                delete ownedCards[card.NUMBER];
            }
        });
        alert('ëª¨ë“  ì¹´ë“œë¥¼ ë¯¸ë³´ìœ  ìƒíƒœë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤!');
    }

    // ìƒíƒœ ë°˜ì „
    allAcquired = !allAcquired;

    // ë„ê° ë‹¤ì‹œ ë Œë”ë§
    displayCards(cardData);
    updateStatusBoard();

    // 151ë²ˆ ì¹´ë“œ ì´ë²¤íŠ¸ í™•ì¸ (ë³´ìœ  ì¹´ë“œ ìˆ˜ê°€ 150ê°œì´ë©´ ì¦‰ì‹œ íŠ¸ë¦¬ê±°)
    checkAllOwned();
});

// 150ê°œ ë³´ìœ  í™•ì¸ í•¨ìˆ˜
function checkAllOwned() {
    if (Object.keys(ownedCards).length === 150) {
        trigger151PackEvent();
    }
}

// 151ë²ˆ ì¹´ë“œ ì´ë²¤íŠ¸ ë°œìƒ
function trigger151PackEvent() {
    const packContainer = document.getElementById('pack-container');
    const packImage = document.getElementById('pack-image');

    // ì•Œë¦¼ ë¨¼ì € í‘œì‹œ
    alert('ğŸ‰ ëª¨ë“  í¬ì¼“ëª¬ì„ íšë“í•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ‰\n ì–´ë””ì„ ê°€ ë®¤ê°€ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤!');

    // ì•Œë¦¼ì´ ë‹«íŒ í›„ì— íŒ© ì´ë¯¸ì§€ í‘œì‹œ
    setTimeout(() => {
        packContainer.style.display = 'block'; // íŒ© ì´ë¯¸ì§€ í‘œì‹œ
    }, 1000); // ì•Œë¦¼ì´ ë‹«íŒ í›„ 1ì´ˆ í›„ì— ì‹¤í–‰

    // íŒ© ì´ë¯¸ì§€ì— hover ì´ë²¤íŠ¸ ì¶”ê°€
packImage.addEventListener('mouseenter', function() {
    // ì´ë¯¸ì§€ ë³€ê²½: 151openpack.pngë¡œ ë°”ê¾¸ê¸°
    packImage.src = 'img/etc/151openpack.png'; // hover ì‹œ open ì´ë¯¸ì§€ë¡œ ë³€ê²½
    packImage.style.transform = 'scale(1.2)'; // ì´ë¯¸ì§€ í¬ê¸° í™•ëŒ€

    
    setTimeout(() => {
        packImage.src = 'img/poke151/SV2a_151.png'; // ê³„ì† hover ì‹œ SV2a_151.pngë¡œ ë³€ê²½
    }, 1000); // 0.2ì´ˆ í›„ ì´ë¯¸ì§€ ë³€ê²½
});

packImage.addEventListener('click', () => {
        const card151 = cardData.find(card => card.NUMBER === 151);
        if (card151) {
            ownedCards[151] = true; // 151ë²ˆ ì¹´ë“œ ë³´ìœ  ì„¤ì •
            alert('ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ë®¤ë¥¼ íšë“ í•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ‰');
            packContainer.style.display = 'none'; // íŒ© ìˆ¨ê¸°ê¸°
            displayCards(cardData); // ë„ê° ë‹¤ì‹œ ë Œë”ë§
        }
    });
}

// ê°œë³„ ì¹´ë“œ ë³´ìœ  ìƒíƒœ í† ê¸€
function toggleOwnership(card, button) {
    if (ownedCards[card.NUMBER]) {
        delete ownedCards[card.NUMBER];
        button.textContent = 'ë¯¸ë³´ìœ ';
        button.classList.remove('owned');
    } else {
        ownedCards[card.NUMBER] = true;
        button.textContent = 'ë³´ìœ ì¤‘';
        button.classList.add('owned');
    }

    // 151ë²ˆ ì¹´ë“œ ì´ë²¤íŠ¸ í™•ì¸
    checkAllOwned();

    // ìƒíƒœ ì—…ë°ì´íŠ¸
    updateStatusBoard();
}
function addHoverEffect(cardElement) {
    const overlay = document.createElement('div');
    overlay.className = 'pokedex-overlay';
    cardElement.appendChild(overlay);

    cardElement.addEventListener('mousemove', (e) => {
        const rect = cardElement.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const rotateY = (-1 / 5) * x + 20;
        const rotateX = (4 / 30) * y - 20;

        overlay.style = `background-position: ${x / 5 + y / 5}%; filter: opacity(${x / 200}) brightness(1.2)`;
        cardElement.style = `transform: perspective(350px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
    });

    cardElement.addEventListener('mouseout', () => {
        overlay.style = 'filter: opacity(0)';
        cardElement.style = 'transform: perspective(350px) rotateY(0deg) rotateX(0deg)';
    });
}
    

// í•„í„° ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
document.querySelectorAll('.pokedex-filter-button').forEach(button => {
    button.addEventListener('click', function () {
        const isActive = this.classList.contains('active'); // í˜„ì¬ ë²„íŠ¼ì´ í™œì„± ìƒíƒœì¸ì§€ í™•ì¸

        // ëª¨ë“  ë²„íŠ¼ì˜ 'active' í´ë˜ìŠ¤ ì œê±°
        document.querySelectorAll('.pokedex-filter-button').forEach(btn => {
            btn.classList.remove('active');
        });

        if (isActive) {
            // ì´ë¯¸ í™œì„±í™”ëœ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì „ì²´ ë°ì´í„° í‘œì‹œ
            displayCards(cardData);
        } else {
            // í´ë¦­ëœ ë²„íŠ¼ì— 'active' í´ë˜ìŠ¤ ì¶”ê°€
            this.classList.add('active');

            // í•„í„° ë™ì‘
            const type = this.dataset.type; // ë²„íŠ¼ì˜ data-type ì†ì„± ê°’ ê°€ì ¸ì˜¤ê¸°
            const filteredData = cardData.filter(card => card.TYPE === type);
            displayCards(filteredData);
        }
    });
});


// ë„ê° ì¹´ë“œ í‘œì‹œ í•¨ìˆ˜
function displayCards(data) {
    const cardContainer = document.getElementById('pokedex-card-container');
    cardContainer.innerHTML = ''; // ê¸°ì¡´ ì¹´ë“œ ì´ˆê¸°í™”

    data.forEach(card => {

        if (card.NUMBER === 151 && !ownedCards[151]) {
            return; // 151ë²ˆ ì¹´ë“œë¥¼ ë³´ìœ í•˜ì§€ ì•Šì€ ê²½ìš° ìŠ¤í‚µ
        }

        const isOwned = !!ownedCards[card.NUMBER]; // ì¹´ë“œ ë³´ìœ  ìƒíƒœ í™•ì¸

        const cardElement = document.createElement('div');
        cardElement.className = 'pokedex-card';

        cardElement.innerHTML = `
            <div class="pokedex-card-image">
                <img src="${card.FILE}" alt="${card.NAME}">
            </div>
            <div class="pokedex-card-info">
                <p class="pokedex-card-name">${card.NUMBER}. ${card.NAME}</p>
                <button class="${isOwned ? 'owned' : ''}">
                    ${isOwned ? 'ë³´ìœ ì¤‘' : 'ë¯¸ë³´ìœ '}
                </button>
            </div>
        `;

        // ê°œë³„ ì¹´ë“œ ìƒíƒœ ë³€ê²½ ì´ë²¤íŠ¸ ì¶”ê°€
        const button = cardElement.querySelector('button');
        button.addEventListener('click', () => toggleOwnership(card, button));

	// ì¹´ë“œì— ë§ˆìš°ìŠ¤ íš¨ê³¼ ì¶”ê°€
        addHoverEffect(cardElement);
        cardContainer.appendChild(cardElement);
    });


    updateStatusBoard(); // ë³´ìœ  í˜„í™© ì—…ë°ì´íŠ¸
}
// ë³´ìœ  í˜„í™© ì—…ë°ì´íŠ¸ í•¨ìˆ˜
function updateStatusBoard() {
    const statusBoardText = document.getElementById('status-board-text');
    const totalOwned = Object.keys(ownedCards).length;

    // 151ë²ˆ ì¹´ë“œë¥¼ ì œì™¸í•˜ê³  150ì¥ë§Œ ë³´ìœ í•œ ê²½ìš°
    if (totalOwned === 151) {
        statusBoardText.textContent = `ë³´ìœ : ${totalOwned} / 151`;  // 150 / 150ìœ¼ë¡œ ìœ ì§€
    } else {
        statusBoardText.textContent = `ë³´ìœ : ${totalOwned} / 150`;  // 151 / 151ë¡œ ì—…ë°ì´íŠ¸
    }
}
// ì´ˆê¸° ë°ì´í„° í‘œì‹œ
displayCards(cardData);

function initializeImageClickEffect() {
    const cardContainer = document.getElementById('pokedex-card-container'); // ë¶€ëª¨ ì»¨í…Œì´ë„ˆ ì„ íƒ

    cardContainer.addEventListener('click', function (event) {
        const clickedImage = event.target.closest('.pokedex-card-image img');
        if (clickedImage) {
            handleImageClick(clickedImage);
        }
    });
}

function handleImageClick(imageElement) {
    const existingContainer = document.querySelector('.zoomed-image-container');
    if (existingContainer) {
        // í™•ëŒ€ëœ ì´ë¯¸ì§€ê°€ ì´ë¯¸ í‘œì‹œëœ ìƒíƒœë¼ë©´ ì œê±°
        existingContainer.remove();
        return;
    }

    const imageSrc = imageElement.src;

    // í™•ëŒ€ëœ ì´ë¯¸ì§€ ì»¨í…Œì´ë„ˆ ìƒì„±
    const container = document.createElement('div');
    container.className = 'zoomed-image-container';

    // í™•ëŒ€ëœ ì´ë¯¸ì§€ë¥¼ ê°ì‹¸ëŠ” ì¹´ë“œ ìŠ¤íƒ€ì¼ì˜ ìš”ì†Œ ìƒì„±
    const zoomedElement = document.createElement('div');
    zoomedElement.className = 'zoomed-image-wrapper';
    zoomedElement.innerHTML = `
        <div class="zoomed-image-content">
            <img src="${imageSrc}" alt="Zoomed Image">
        </div>
    `;

    // í™•ëŒ€ëœ ì´ë¯¸ì§€ì— hover íš¨ê³¼ ì¶”ê°€
    addZoomHoverEffect(zoomedElement);

    // í™•ëŒ€ëœ ìš”ì†Œë¥¼ ì»¨í…Œì´ë„ˆì— ì¶”ê°€
    container.appendChild(zoomedElement);

    // í´ë¦­í•˜ë©´ ì›ë˜ ìƒíƒœë¡œ ë³µì›
    container.addEventListener('click', () => container.remove());

    // ì»¨í…Œì´ë„ˆë¥¼ bodyì— ì¶”ê°€
    document.body.appendChild(container);
}

function addZoomHoverEffect(element) {
    element.addEventListener('mousemove', (e) => {
        const rect = element.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const rotateY = (-1 / 8) * x + 10; // í™•ëŒ€ëœ ì´ë¯¸ì§€ì— ë§ì¶˜ íšŒì „ ë²”ìœ„
        const rotateX = (1 / 15) * y - 10;

        element.style = `transform: perspective(500px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.2);`;
    });

    element.addEventListener('mouseout', () => {
        element.style = 'transform: perspective(500px) rotateY(0deg) rotateX(0deg) scale(1);';
    });
}

// ì´ˆê¸°í™”
document.addEventListener('DOMContentLoaded', () => {
    initializeImageClickEffect();
});

let musicPlaying = false;
        const audioElement = document.getElementById('pokedex-background-music');
        const musicControl = document.querySelector('.pokedex-music-control');

audioElement.play();
            musicPlaying = true;
            musicControl.textContent = 'ğŸµ ì¬ìƒ'; // ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
    

    // ìŒì•… ì¬ìƒ/ì •ì§€ í† ê¸€ í•¨ìˆ˜
    function toggleMusic() {
            if (musicPlaying) {
                audioElement.pause();
                musicControl.textContent = 'ğŸµ ì¬ìƒ'; // ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
            } else {
                audioElement.play();
                musicControl.textContent = 'ğŸµ ì •ì§€'; // ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
            }
            musicPlaying = !musicPlaying;
        }
    </script>
</body>
</html>


